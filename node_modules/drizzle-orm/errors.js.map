{"version":3,"sources":["../src/errors.ts"],"sourcesContent":["import { entityKind } from '~/entity.ts';\n\nexport class DrizzleError extends Error {\n\tstatic readonly [entityKind]: string = 'DrizzleError';\n\n\tconstructor({ message, cause }: { message?: string; cause?: unknown }) {\n\t\tsuper(message);\n\t\tthis.name = 'DrizzleError';\n\t\tthis.cause = cause;\n\t}\n}\n\nexport class DrizzleQueryError extends Error {\n\tconstructor(\n\t\tpublic query: string,\n\t\tpublic params: any[],\n\t\tpublic override cause?: Error,\n\t) {\n\t\tsuper(`Failed query: ${query}\\nparams: ${params}`);\n\t\tError.captureStackTrace(this, DrizzleQueryError);\n\n\t\t// ES2022+: preserves original error on `.cause`\n\t\tif (cause) (this as any).cause = cause;\n\t}\n}\n\nexport class TransactionRollbackError extends DrizzleError {\n\tstatic override readonly [entityKind]: string = 'TransactionRollbackError';\n\n\tconstructor() {\n\t\tsuper({ message: 'Rollback' });\n\t}\n}\n"],"mappings":"AAAA,SAAS,kBAAkB;AAEpB,MAAM,qBAAqB,MAAM;AAAA,EACvC,QAAiB,UAAU,IAAY;AAAA,EAEvC,YAAY,EAAE,SAAS,MAAM,GAA0C;AACtE,UAAM,OAAO;AACb,SAAK,OAAO;AACZ,SAAK,QAAQ;AAAA,EACd;AACD;AAEO,MAAM,0BAA0B,MAAM;AAAA,EAC5C,YACQ,OACA,QACS,OACf;AACD,UAAM,iBAAiB,KAAK;AAAA,UAAa,MAAM,EAAE;AAJ1C;AACA;AACS;AAGhB,UAAM,kBAAkB,MAAM,iBAAiB;AAG/C,QAAI,MAAO,CAAC,KAAa,QAAQ;AAAA,EAClC;AACD;AAEO,MAAM,iCAAiC,aAAa;AAAA,EAC1D,QAA0B,UAAU,IAAY;AAAA,EAEhD,cAAc;AACb,UAAM,EAAE,SAAS,WAAW,CAAC;AAAA,EAC9B;AACD;","names":[]}